<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Openssl Guides: Notes for the OpenVMS platform</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Openssl Guides
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Notes for the OpenVMS platform</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><ul>
<li>Requirement details</li>
<li>About ANSI C compiler</li>
<li>About ODS-5 directory names and Perl</li>
<li>About MMS and DCL</li>
<li>About debugging</li>
<li>Checking the distribution</li>
</ul>
<h1><a class="anchor" id="autotoc_md898"></a>
Requirement details</h1>
<p>In addition to the requirements and instructions listed in <a class="el" href="md__c_1_2_users_2namph_2_downloads_2openssl_2openssl-3_82_81_2_i_n_s_t_a_l_l.html">INSTALL.md</a>, this are required as well:</p>
<ul>
<li>At least ODS-5 disk organization for source and build. Installation can be done on any existing disk organization.</li>
</ul>
<h1><a class="anchor" id="autotoc_md899"></a>
About ANSI C compiler</h1>
<p>An ANSI C compiled is needed among other things. This means that VAX C is not and will not be supported.</p>
<p>We have only tested with DEC C (aka HP VMS C / VSI C) and require version 7.1 or later. Compiling with a different ANSI C compiler may require some work.</p>
<p>Please avoid using C RTL feature logical names <code>DECC$*</code> when building and testing OpenSSL. Most of all, they can be disruptive when running the tests, as they affect the Perl interpreter.</p>
<h1><a class="anchor" id="autotoc_md900"></a>
About ODS-5 directory names and Perl</h1>
<p>It seems that the perl function canonpath() in the <code>File::Spec</code> module doesn't treat file specifications where the last directory name contains periods very well. Unfortunately, some versions of VMS tar will keep the periods in the OpenSSL source directory instead of converting them to underscore, thereby leaving your source in something like <code>[.openssl-1^.1^.0]</code>. This will lead to issues when configuring and building OpenSSL.</p>
<p>We have no replacement for Perl's canonpath(), so the best workaround for now is to rename the OpenSSL source directory, as follows (please adjust for the actual source directory name you have): </p><pre class="fragment">$ rename openssl-1^.1^.0.DIR openssl-1_1_0.DIR
</pre> <h1><a class="anchor" id="autotoc_md901"></a>
About MMS and DCL</h1>
<p>MMS has certain limitations when it comes to line length, and DCL has certain limitations when it comes to total command length. We do what we can to mitigate, but there is the possibility that it's not enough. Should you run into issues, a very simple solution is to set yourself up a few logical names for the directory trees you're going to use.</p>
<h1><a class="anchor" id="autotoc_md902"></a>
About debugging</h1>
<p>If you build for debugging, the default on VMS is that image activation starts the debugger automatically, giving you a debug prompt. Unfortunately, this disrupts all other uses, such as running test programs in the test framework.</p>
<p>Generally speaking, if you build for debugging, only use the programs directly for debugging. Do not try to use them from a script, such as running the test suite.</p>
<h2><a class="anchor" id="autotoc_md903"></a>
The following is not available on Alpha</h2>
<p>As a compromise, we're turning off the flag that makes the debugger start automatically. If there is a program that you need to debug, you need to turn that flag back on first, for example: </p><pre class="fragment">$ set image /flag=call_debug [.test]evp_test.exe
</pre><p> Then just run it and you will find yourself in a debugging session. When done, we recommend that you turn that flag back off: </p><pre class="fragment">$ set image /flag=nocall_debug [.test]evp_test.exe
</pre> <h1><a class="anchor" id="autotoc_md904"></a>
About assembler acceleration</h1>
<p>OpenSSL has assembler acceleration for a number of BIGNUM and crypto routines. The VMS config targets tries to look for a selection of assemblers and will use what they find. If none of the assemblers are found, OpenSSL will be built as if <code>no-asm</code> was configured.</p>
<h2><a class="anchor" id="autotoc_md905"></a>
For Itanium / IA64 / I64</h2>
<ul>
<li>There is only one assembler, a port of Intel's <code>ias</code>, found in the HP Open Source Tools CD, available through <a href="http://www.decuslib.com">DECUSlib</a>. It's assumed to be set up as per the instructions, where <code>disk</code> and <code>dir</code> are expected to be adapted to local conditions: <pre class="fragment">$ ias :== $disk:[dir]iasi64.exe
</pre> </li>
</ul>
<h1><a class="anchor" id="autotoc_md906"></a>
Checking the distribution</h1>
<p>There have been reports of places where the distribution didn't quite get through, for example if you've copied the tree from a NFS-mounted Unix mount point.</p>
<p>The easiest way to check if everything got through as it should is to check that this file exists: </p><pre class="fragment">[.include.openssl]configuration^.h.in
</pre><p> The best way to get a correct distribution is to download the gzipped tar file from <a href="ftp://ftp.openssl.org/source/">ftp://ftp.openssl.org/source/</a>, use <code>GZIP -d</code> to uncompress it and <code>VMSTAR</code> to unpack the resulting tar file.</p>
<p>Gzip and VMSTAR are available here:</p>
<p><a href="http://antinode.info/dec/index.html#Software">http://antinode.info/dec/index.html#Software</a></p>
<p>Should you need it, you can find UnZip for VMS here:</p>
<p><a href="http://www.info-zip.org/UnZip.html">http://www.info-zip.org/UnZip.html</a></p>
<h1><a class="anchor" id="autotoc_md907"></a>
How the value of 'arch' is determined</h1>
<p>'arch' is mentioned in INSTALL. It's value is determined like this:</p>
<p>arch = f$edit( f$getsyi( "arch_name"), "upcase") </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
