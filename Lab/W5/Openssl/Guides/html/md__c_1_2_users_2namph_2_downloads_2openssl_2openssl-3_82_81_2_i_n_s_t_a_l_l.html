<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Openssl Guides: Build and Install</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Openssl Guides
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Build and Install</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This document describes installation on all supported operating systems: the Unix/Linux family (including macOS), OpenVMS, and Windows.</p>
<h1><a class="anchor" id="autotoc_md528"></a>
Table of Contents</h1>
<ul>
<li>Prerequisites</li>
<li>Notational Conventions</li>
<li>Quick Installation Guide<ul>
<li>Building OpenSSL</li>
<li>Installing OpenSSL</li>
</ul>
</li>
<li>Configuration Options<ul>
<li>API Level</li>
<li>Cross Compile Prefix</li>
<li>Build Type</li>
<li>Directories</li>
<li>Compiler Warnings</li>
<li>Compression Algorithm Flags</li>
<li>Seeding the Random Generator</li>
<li>Setting the FIPS HMAC key</li>
<li>Enable and Disable Features</li>
<li>Displaying configuration data</li>
</ul>
</li>
<li>Installation Steps in Detail<ul>
<li>Configure</li>
<li>Build</li>
<li>Test</li>
<li>Install</li>
</ul>
</li>
<li>Advanced Build Options<ul>
<li>Environment Variables</li>
<li>Makefile Targets</li>
<li>Running Selected Tests</li>
</ul>
</li>
<li>Troubleshooting<ul>
<li>Configuration Problems</li>
<li>Build Failures</li>
<li>Test Failures</li>
</ul>
</li>
<li>Notes<ul>
<li>Notes on multi-threading</li>
<li>Notes on shared libraries</li>
<li>Notes on random number generation</li>
<li>Notes on assembler modules compilation</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md529"></a>
Prerequisites</h1>
<p>To install OpenSSL, you will need:</p>
<ul>
<li>A "make" implementation</li>
<li>Perl 5 with core modules (please read <a class="el" href="md__c_1_2_users_2namph_2_downloads_2openssl_2openssl-3_82_81_2_n_o_t_e_s-_p_e_r_l.html">NOTES-PERL.md</a>)</li>
<li>The Perl module <code>Text::Template</code> (please read <a class="el" href="md__c_1_2_users_2namph_2_downloads_2openssl_2openssl-3_82_81_2_n_o_t_e_s-_p_e_r_l.html">NOTES-PERL.md</a>)</li>
<li>an ANSI C compiler</li>
<li>a development environment in the form of development libraries and C header files</li>
<li>a supported operating system</li>
</ul>
<p>For additional platform specific requirements, solutions to specific issues and other details, please read one of these:</p>
<ul>
<li><a class="el" href="md__c_1_2_users_2namph_2_downloads_2openssl_2openssl-3_82_81_2_n_o_t_e_s-_u_n_i_x.html">Notes for UNIX-like platforms</a></li>
<li><a class="el" href="md__c_1_2_users_2namph_2_downloads_2openssl_2openssl-3_82_81_2_n_o_t_e_s-_a_n_d_r_o_i_d.html">Notes for Android platforms</a></li>
<li><a class="el" href="md__c_1_2_users_2namph_2_downloads_2openssl_2openssl-3_82_81_2_n_o_t_e_s-_w_i_n_d_o_w_s.html">Notes for Windows platforms</a></li>
<li><a class="el" href="md__c_1_2_users_2namph_2_downloads_2openssl_2openssl-3_82_81_2_n_o_t_e_s-_d_j_g_p_p.html">Notes for the DOS platform with DJGPP</a></li>
<li><a class="el" href="md__c_1_2_users_2namph_2_downloads_2openssl_2openssl-3_82_81_2_n_o_t_e_s-_v_m_s.html">Notes for the OpenVMS platform</a></li>
<li><a class="el" href="md__c_1_2_users_2namph_2_downloads_2openssl_2openssl-3_82_81_2_n_o_t_e_s-_p_e_r_l.html">Notes on Perl</a></li>
<li><a class="el" href="md__c_1_2_users_2namph_2_downloads_2openssl_2openssl-3_82_81_2_n_o_t_e_s-_v_a_l_g_r_i_n_d.html">Notes on Valgrind</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md530"></a>
Notational conventions</h1>
<p>Throughout this document, we use the following conventions.</p>
<h2><a class="anchor" id="autotoc_md531"></a>
Commands</h2>
<p>Any line starting with a dollar sign is a command line. </p><pre class="fragment">$ command
</pre><p> The dollar sign indicates the shell prompt and is not to be entered as part of the command.</p>
<h2><a class="anchor" id="autotoc_md532"></a>
Choices</h2>
<p>Several words in curly braces separated by pipe characters indicate a <b>mandatory choice</b>, to be replaced with one of the given words. For example, the line </p><pre class="fragment">$ echo { WORD1 | WORD2 | WORD3 }
</pre><p> represents one of the following three commands </p><pre class="fragment">$ echo WORD1
- or -
$ echo WORD2
- or -
$ echo WORD3
</pre><p> One or several words in square brackets separated by pipe characters denote an <b>optional choice</b>. It is similar to the mandatory choice, but it can also be omitted entirely.</p>
<p>So the line </p><pre class="fragment">$ echo [ WORD1 | WORD2 | WORD3 ]
</pre><p> represents one of the four commands </p><pre class="fragment">$ echo WORD1
- or -
$ echo WORD2
- or -
$ echo WORD3
- or -
$ echo
</pre> <h2><a class="anchor" id="autotoc_md533"></a>
Arguments</h2>
<p><b>Optional Arguments</b> are enclosed in square brackets. </p><pre class="fragment">[option...]
</pre><p> A trailing ellipsis means that more than one could be specified.</p>
<h1><a class="anchor" id="autotoc_md534"></a>
Quick Installation Guide</h1>
<p>If you just want to get OpenSSL installed without bothering too much about the details, here is the short version of how to build and install OpenSSL. If any of the following steps fails, please consult the Installation in Detail section below.</p>
<h2><a class="anchor" id="autotoc_md535"></a>
Building OpenSSL</h2>
<p>Use the following commands to configure, build and test OpenSSL. The testing is optional, but recommended if you intend to install OpenSSL for production use.</p>
<h3><a class="anchor" id="autotoc_md536"></a>
Unix / Linux / macOS</h3>
<pre class="fragment">$ ./Configure
$ make
$ make test
</pre> <h3><a class="anchor" id="autotoc_md537"></a>
OpenVMS</h3>
<p>Use the following commands to build OpenSSL: </p><pre class="fragment">$ perl Configure
$ mms
$ mms test
</pre> <h3><a class="anchor" id="autotoc_md538"></a>
Windows</h3>
<p>If you are using Visual Studio, open a Developer Command Prompt and issue the following commands to build OpenSSL. </p><pre class="fragment">$ perl Configure
$ nmake
$ nmake test
</pre><p> As mentioned in the Choices section, you need to pick one of the four Configure targets in the first command.</p>
<p>Most likely you will be using the <code>VC-WIN64A</code>/<code>VC-WIN64A-HYBRIDCRT</code> target for 64bit Windows binaries (AMD64) or <code>VC-WIN32</code>/<code>VC-WIN32-HYBRIDCRT</code> for 32bit Windows binaries (X86). The other two options are <code>VC-WIN64I</code> (Intel IA64, Itanium) and <code>VC-CE</code> (Windows CE) are rather uncommon nowadays.</p>
<h2><a class="anchor" id="autotoc_md539"></a>
Installing OpenSSL</h2>
<p>The following commands will install OpenSSL to a default system location.</p>
<p><b>Danger Zone:</b> even if you are impatient, please read the following two paragraphs carefully before you install OpenSSL.</p>
<p>For security reasons the default system location is by default not writable for unprivileged users. So for the final installation step administrative privileges are required. The default system location and the procedure to obtain administrative privileges depends on the operating system. It is recommended to compile and test OpenSSL with normal user privileges and use administrative privileges only for the final installation step.</p>
<p>On some platforms OpenSSL is preinstalled as part of the Operating System. In this case it is highly recommended not to overwrite the system versions, because other applications or libraries might depend on it. To avoid breaking other applications, install your copy of OpenSSL to a different location which is not in the global search path for system libraries.</p>
<p>Finally, if you plan on using the FIPS module, you need to read the Post-installation Notes further down.</p>
<h3><a class="anchor" id="autotoc_md540"></a>
Unix / Linux / macOS</h3>
<p>Depending on your distribution, you need to run the following command as root user or prepend <code>sudo</code> to the command: </p><pre class="fragment">$ make install
</pre><p> By default, OpenSSL will be installed to </p><pre class="fragment">/usr/local
</pre><p> More precisely, the files will be installed into the subdirectories </p><pre class="fragment">/usr/local/bin
/usr/local/lib
/usr/local/include
...
</pre><p> depending on the file type, as it is custom on Unix-like operating systems.</p>
<h3><a class="anchor" id="autotoc_md541"></a>
OpenVMS</h3>
<p>Use the following command to install OpenSSL. </p><pre class="fragment">$ mms install
</pre><p> By default, OpenSSL will be installed to </p><pre class="fragment">SYS$COMMON:[OPENSSL]
</pre> <h3><a class="anchor" id="autotoc_md542"></a>
Windows</h3>
<p>If you are using Visual Studio, open the Developer Command Prompt <em>elevated</em> and issue the following command. </p><pre class="fragment">$ nmake install
</pre><p> The easiest way to elevate the Command Prompt is to press and hold down both the <code>&lt;CTRL&gt;</code> and <code>&lt;SHIFT&gt;</code> keys while clicking the menu item in the task menu.</p>
<p>The default installation location is </p><pre class="fragment">C:\Program Files\OpenSSL
</pre><p> for native binaries, or </p><pre class="fragment">C:\Program Files (x86)\OpenSSL
</pre><p> for 32bit binaries on 64bit Windows (WOW64).</p>
<h4><a class="anchor" id="autotoc_md543"></a>
Installing to a different location</h4>
<p>To install OpenSSL to a different location (for example into your home directory for testing purposes) run <code>Configure</code> as shown in the following examples.</p>
<p>The options <code>--prefix</code> and <code>--openssldir</code> are explained in further detail in Directories below, and the values used here are mere examples.</p>
<p>On Unix: </p><pre class="fragment">$ ./Configure --prefix=/opt/openssl --openssldir=/usr/local/ssl
</pre><p> On OpenVMS: </p><pre class="fragment">$ perl Configure --prefix=PROGRAM:[INSTALLS] --openssldir=SYS$MANAGER:[OPENSSL]
</pre><p> Note: if you do add options to the configuration command, please make sure you've read more than just this Quick Start, such as relevant <code>NOTES-*</code> files, the options outline below, as configuration options may change the outcome in otherwise unexpected ways.</p>
<h1><a class="anchor" id="autotoc_md544"></a>
Configuration Options</h1>
<p>There are several options to <code>./Configure</code> to customize the build (note that for Windows, the defaults for <code>--prefix</code> and <code>--openssldir</code> depend on what configuration is used and what Windows implementation OpenSSL is built on. For more information, see the <a class="el" href="md__c_1_2_users_2namph_2_downloads_2openssl_2openssl-3_82_81_2_n_o_t_e_s-_w_i_n_d_o_w_s.html">Notes for Windows platforms</a>.</p>
<h2><a class="anchor" id="autotoc_md545"></a>
API Level</h2>
<pre class="fragment">--api=x.y[.z]
</pre><p> Build the OpenSSL libraries to support the API for the specified version. If no-deprecated is also given, don't build with support for deprecated APIs in or below the specified version number. For example, adding </p><pre class="fragment">--api=1.1.0 no-deprecated
</pre><p> will remove support for all APIs that were deprecated in OpenSSL version 1.1.0 or below. This is a rather specialized option for developers. If you just intend to remove all deprecated APIs up to the current version entirely, just specify no-deprecated. If <code>--api</code> isn't given, it defaults to the current (minor) OpenSSL version.</p>
<h2><a class="anchor" id="autotoc_md546"></a>
Cross Compile Prefix</h2>
<pre class="fragment">--cross-compile-prefix=&lt;PREFIX&gt;
</pre><p> The <code>&lt;PREFIX&gt;</code> to include in front of commands for your toolchain.</p>
<p>It is likely to have to end with dash, e.g. <code>a-b-c-</code> would invoke GNU compiler as <code>a-b-c-gcc</code>, etc. Unfortunately cross-compiling is too case-specific to put together one-size-fits-all instructions. You might have to pass more flags or set up environment variables to actually make it work. Android and iOS cases are discussed in corresponding <code>Configurations/15-*.conf</code> files. But there are cases when this option alone is sufficient. For example to build the mingw64 target on Linux <code>--cross-compile-prefix=x86_64-w64-mingw32-</code> works. Naturally provided that mingw packages are installed. Today Debian and Ubuntu users have option to install a number of prepackaged cross-compilers along with corresponding run-time and development packages for "alien" hardware. To give another example <code>--cross-compile-prefix=mipsel-linux-gnu-</code> suffices in such case.</p>
<p>For cross compilation, you must configure manually. Also, note that <code>--openssldir</code> refers to target's file system, not one you are building on.</p>
<h2><a class="anchor" id="autotoc_md547"></a>
Build Type</h2>
<pre class="fragment">--debug
</pre><p> Build OpenSSL with debugging symbols and zero optimization level. </p><pre class="fragment">--release
</pre><p> Build OpenSSL without debugging symbols. This is the default.</p>
<h2><a class="anchor" id="autotoc_md548"></a>
Directories</h2>
<h3><a class="anchor" id="autotoc_md549"></a>
libdir</h3>
<pre class="fragment">--libdir=DIR
</pre><p> The name of the directory under the top of the installation directory tree (see the <code>--prefix</code> option) where libraries will be installed. By default this is <code>lib</code>. Note that on Windows only static libraries (<code>*.lib</code>) will be stored in this location. Shared libraries (<code>*.dll</code>) will always be installed to the <code>bin</code> directory.</p>
<p>Some build targets have a multilib postfix set in the build configuration. For these targets the default libdir is <code>lib&lt;multilib-postfix&gt;</code>. Please use <code>--libdir=lib</code> to override the libdir if adding the postfix is undesirable.</p>
<h3><a class="anchor" id="autotoc_md550"></a>
openssldir</h3>
<pre class="fragment">--openssldir=DIR
</pre><p> Directory for OpenSSL configuration files, and also the default certificate and key store. Defaults are: </p><pre class="fragment">Unix:           /usr/local/ssl
Windows:        C:\Program Files\Common Files\SSL
OpenVMS:        SYS$COMMON:[OPENSSL-COMMON]
</pre><p> For 32bit Windows applications on Windows 64bit (WOW64), always replace <code>C:\Program Files</code> by <code>C:\Program Files (x86)</code>.</p>
<h3><a class="anchor" id="autotoc_md551"></a>
prefix</h3>
<pre class="fragment">--prefix=DIR
</pre><p> The top of the installation directory tree. Defaults are: </p><pre class="fragment">Unix:           /usr/local
Windows:        C:\Program Files\OpenSSL
OpenVMS:        SYS$COMMON:[OPENSSL]
</pre> <h2><a class="anchor" id="autotoc_md552"></a>
Compiler Warnings</h2>
<pre class="fragment">--strict-warnings
</pre><p> This is a developer flag that switches on various compiler options recommended for OpenSSL development. It only works when using gcc or clang as the compiler. If you are developing a patch for OpenSSL then it is recommended that you use this option where possible.</p>
<h2><a class="anchor" id="autotoc_md553"></a>
Compression Algorithm Flags</h2>
<h3><a class="anchor" id="autotoc_md554"></a>
with-brotli-include</h3>
<pre class="fragment">--with-brotli-include=DIR
</pre><p> The directory for the location of the brotli include files (i.e. the location of the <b>brotli</b> include directory). This option is only necessary if enable-brotli is used and the include files are not already on the system include path.</p>
<h3><a class="anchor" id="autotoc_md555"></a>
with-brotli-lib</h3>
<pre class="fragment">--with-brotli-lib=LIB
</pre><p> <b>On Unix</b>: this is the directory containing the brotli libraries. If not provided, the system library path will be used.</p>
<p>The names of the libraries are:</p>
<ul>
<li>libbrotlicommon.a or libbrotlicommon.so</li>
<li>libbrotlidec.a or libbrotlidec.so</li>
<li>libbrotlienc.a or libbrotlienc.so</li>
</ul>
<p><b>On Windows:</b> this is the directory containing the brotli libraries. If not provided, the system library path will be used.</p>
<p>The names of the libraries are:</p>
<ul>
<li>brotlicommon.lib</li>
<li>brotlidec.lib</li>
<li>brotlienc.lib</li>
</ul>
<h3><a class="anchor" id="autotoc_md556"></a>
with-zlib-include</h3>
<pre class="fragment">--with-zlib-include=DIR
</pre><p> The directory for the location of the zlib include file. This option is only necessary if zlib is used and the include file is not already on the system include path.</p>
<h3><a class="anchor" id="autotoc_md557"></a>
with-zlib-lib</h3>
<pre class="fragment">--with-zlib-lib=LIB
</pre><p> <b>On Unix</b>: this is the directory containing the zlib library. If not provided the system library path will be used.</p>
<p><b>On Windows:</b> this is the filename of the zlib library (with or without a path). This flag must be provided if the zlib-dynamic option is not also used. If <code>zlib-dynamic</code> is used then this flag is optional and defaults to <code>ZLIB1</code> if not provided.</p>
<p><b>On VMS:</b> this is the filename of the zlib library (with or without a path). This flag is optional and if not provided then <code>GNV$LIBZSHR</code>, <code>GNV$LIBZSHR32</code> or <code>GNV$LIBZSHR64</code> is used by default depending on the pointer size chosen.</p>
<h3><a class="anchor" id="autotoc_md558"></a>
with-zstd-include</h3>
<pre class="fragment">--with-zstd-include=DIR
</pre><p> The directory for the location of the Zstd include file. This option is only necessary if enable-std is used and the include file is not already on the system include path.</p>
<p>OpenSSL requires Zstd 1.4 or greater. The Linux kernel source contains a <em>zstd.h</em> file that is not compatible with the 1.4.x Zstd distribution, the compilation will generate an error if the Linux <em>zstd.h</em> is included before (or instead of) the Zstd distribution header.</p>
<h3><a class="anchor" id="autotoc_md559"></a>
with-zstd-lib</h3>
<pre class="fragment">--with-zstd-lib=LIB
</pre><p> <b>On Unix</b>: this is the directory containing the Zstd library. If not provided the system library path will be used.</p>
<p><b>On Windows:</b> this is the filename of the Zstd library (with or without a path). This flag must be provided if the enable-zstd-dynamic option is not also used. If <code>zstd-dynamic</code> is used then this flag is optional and defaults to <code>LIBZSTD</code> if not provided.</p>
<h2><a class="anchor" id="autotoc_md560"></a>
Seeding the Random Generator</h2>
<pre class="fragment">--with-rand-seed=seed1[,seed2,...]
</pre><p> A comma separated list of seeding methods which will be tried by OpenSSL in order to obtain random input (a.k.a "entropy") for seeding its cryptographically secure random number generator (CSPRNG). The current seeding methods are:</p>
<h3><a class="anchor" id="autotoc_md561"></a>
os</h3>
<p>Use a trusted operating system entropy source. This is the default method if such an entropy source exists.</p>
<h3><a class="anchor" id="autotoc_md562"></a>
getrandom</h3>
<p>Use the <a href="http://man7.org/linux/man-pages/man2/getrandom.2.html">getrandom(2)</a> or equivalent system call.</p>
<h3><a class="anchor" id="autotoc_md563"></a>
devrandom</h3>
<p>Use the first device from the <code>DEVRANDOM</code> list which can be opened to read random bytes. The <code>DEVRANDOM</code> preprocessor constant expands to </p><pre class="fragment">"/dev/urandom","/dev/random","/dev/srandom"
</pre><p> on most unix-ish operating systems.</p>
<h3><a class="anchor" id="autotoc_md564"></a>
egd</h3>
<p>Check for an entropy generating daemon. This source is ignored by the FIPS provider.</p>
<h3><a class="anchor" id="autotoc_md565"></a>
rdcpu</h3>
<p>Use the <code>RDSEED</code> or <code>RDRAND</code> command on x86 or <code>RNDRRS</code> command on aarch64 if provided by the CPU.</p>
<h3><a class="anchor" id="autotoc_md566"></a>
librandom</h3>
<p>Use librandom (not implemented yet). This source is ignored by the FIPS provider.</p>
<h3><a class="anchor" id="autotoc_md567"></a>
none</h3>
<p>Disable automatic seeding. This is the default on some operating systems where no suitable entropy source exists, or no support for it is implemented yet. This option is ignored by the FIPS provider.</p>
<p>For more information, see the section Notes on random number generation at the end of this document.</p>
<h2><a class="anchor" id="autotoc_md568"></a>
Setting the FIPS HMAC key</h2>
<pre class="fragment">--fips-key=value
</pre><p> As part of its self-test validation, the FIPS module must verify itself by performing a SHA-256 HMAC computation on itself. The default key is the SHA256 value of "the holy handgrenade of antioch" and is sufficient for meeting the FIPS requirements.</p>
<p>To change the key to a different value, use this flag. The value should be a hex string no more than 64 characters.</p>
<h2><a class="anchor" id="autotoc_md569"></a>
Enable and Disable Features</h2>
<p>Feature options always come in pairs, an option to enable feature <code>xxxx</code>, and an option to disable it: </p><pre class="fragment">[ enable-xxxx | no-xxxx ]
</pre><p> Whether a feature is enabled or disabled by default, depends on the feature. In the following list, always the non-default variant is documented: if feature <code>xxxx</code> is disabled by default then <code>enable-xxxx</code> is documented and if feature <code>xxxx</code> is enabled by default then <code>no-xxxx</code> is documented.</p>
<h3><a class="anchor" id="autotoc_md570"></a>
no-afalgeng</h3>
<p>Don't build the AFALG engine.</p>
<p>This option will be forced on a platform that does not support AFALG.</p>
<h3><a class="anchor" id="autotoc_md571"></a>
enable-ktls</h3>
<p>Build with Kernel TLS support.</p>
<p>This option will enable the use of the Kernel TLS data-path, which can improve performance and allow for the use of sendfile and splice system calls on TLS sockets. The Kernel may use TLS accelerators if any are available on the system. This option will be forced off on systems that do not support the Kernel TLS data-path.</p>
<h3><a class="anchor" id="autotoc_md572"></a>
enable-asan</h3>
<p>Build with the Address sanitiser.</p>
<p>This is a developer option only. It may not work on all platforms and should never be used in production environments. It will only work when used with gcc or clang and should be used in conjunction with the no-shared option.</p>
<h3><a class="anchor" id="autotoc_md573"></a>
enable-acvp-tests</h3>
<p>Build support for Automated Cryptographic Validation Protocol (ACVP) tests.</p>
<p>This is required for FIPS validation purposes. Certain ACVP tests require access to algorithm internals that are not normally accessible. Additional information related to ACVP can be found at <a href="https://github.com/usnistgov/ACVP">https://github.com/usnistgov/ACVP</a>.</p>
<h3><a class="anchor" id="autotoc_md574"></a>
no-apps</h3>
<p>Do not build apps, e.g. the openssl program. This is handy for minimization. This option also disables tests.</p>
<h3><a class="anchor" id="autotoc_md575"></a>
no-asm</h3>
<p>Do not use assembler code.</p>
<p>This should be viewed as debugging/troubleshooting option rather than for production use. On some platforms a small amount of assembler code may still be used even with this option.</p>
<h3><a class="anchor" id="autotoc_md576"></a>
no-async</h3>
<p>Do not build support for async operations.</p>
<h3><a class="anchor" id="autotoc_md577"></a>
no-autoalginit</h3>
<p>Don't automatically load all supported ciphers and digests.</p>
<p>Typically OpenSSL will make available all of its supported ciphers and digests. For a statically linked application this may be undesirable if small executable size is an objective. This only affects libcrypto. Ciphers and digests will have to be loaded manually using <code>EVP_add_cipher()</code> and <code>EVP_add_digest()</code> if this option is used. This option will force a non-shared build.</p>
<h3><a class="anchor" id="autotoc_md578"></a>
no-autoerrinit</h3>
<p>Don't automatically load all libcrypto/libssl error strings.</p>
<p>Typically OpenSSL will automatically load human readable error strings. For a statically linked application this may be undesirable if small executable size is an objective.</p>
<h3><a class="anchor" id="autotoc_md579"></a>
enable-brotli</h3>
<p>Build with support for brotli compression/decompression.</p>
<h3><a class="anchor" id="autotoc_md580"></a>
enable-brotli-dynamic</h3>
<p>Like the enable-brotli option, but has OpenSSL load the brotli library dynamically when needed.</p>
<p>This is only supported on systems where loading of shared libraries is supported.</p>
<h3><a class="anchor" id="autotoc_md581"></a>
no-autoload-config</h3>
<p>Don't automatically load the default <code>openssl.cnf</code> file.</p>
<p>Typically OpenSSL will automatically load a system config file which configures default SSL options.</p>
<h3><a class="anchor" id="autotoc_md582"></a>
enable-buildtest-c++</h3>
<p>While testing, generate C++ buildtest files that simply check that the public OpenSSL header files are usable standalone with C++.</p>
<p>Enabling this option demands extra care. For any compiler flag given directly as configuration option, you must ensure that it's valid for both the C and the C++ compiler. If not, the C++ build test will most likely break. As an alternative, you can use the language specific variables, <code>CFLAGS</code> and <code>CXXFLAGS</code>.</p>
<h3><a class="anchor" id="autotoc_md583"></a>
&ndash;banner=text</h3>
<p>Use the specified text instead of the default banner at the end of configuration.</p>
<h3><a class="anchor" id="autotoc_md584"></a>
&ndash;w</h3>
<p>On platforms where the choice of 32-bit or 64-bit architecture is not explicitly specified, <code>Configure</code> will print a warning message and wait for a few seconds to let you interrupt the configuration. Using this flag skips the wait.</p>
<h3><a class="anchor" id="autotoc_md585"></a>
no-bulk</h3>
<p>Build only some minimal set of features. This is a developer option used internally for CI build tests of the project.</p>
<h3><a class="anchor" id="autotoc_md586"></a>
no-cached-fetch</h3>
<p>Never cache algorithms when they are fetched from a provider. Normally, a provider indicates if the algorithms it supplies can be cached or not. Using this option will reduce run-time memory usage but it also introduces a significant performance penalty. This option is primarily designed to help with detecting incorrect reference counting.</p>
<h3><a class="anchor" id="autotoc_md587"></a>
no-capieng</h3>
<p>Don't build the CAPI engine.</p>
<p>This option will be forced if on a platform that does not support CAPI.</p>
<h3><a class="anchor" id="autotoc_md588"></a>
no-cmp</h3>
<p>Don't build support for Certificate Management Protocol (CMP) and Certificate Request Message Format (CRMF).</p>
<h3><a class="anchor" id="autotoc_md589"></a>
no-cms</h3>
<p>Don't build support for Cryptographic Message Syntax (CMS).</p>
<h3><a class="anchor" id="autotoc_md590"></a>
no-comp</h3>
<p>Don't build support for SSL/TLS compression.</p>
<p>If this option is enabled (the default), then compression will only work if the zlib or <code>zlib-dynamic</code> options are also chosen.</p>
<h3><a class="anchor" id="autotoc_md591"></a>
enable-crypto-mdebug</h3>
<p>This now only enables the <code>failed-malloc</code> feature.</p>
<h3><a class="anchor" id="autotoc_md592"></a>
enable-crypto-mdebug-backtrace</h3>
<p>This is a no-op; the project uses the compiler's address/leak sanitizer instead.</p>
<h3><a class="anchor" id="autotoc_md593"></a>
no-ct</h3>
<p>Don't build support for Certificate Transparency (CT).</p>
<h3><a class="anchor" id="autotoc_md594"></a>
no-deprecated</h3>
<p>Don't build with support for deprecated APIs up until and including the version given with <code>--api</code> (or the current version, if <code>--api</code> wasn't specified).</p>
<h3><a class="anchor" id="autotoc_md595"></a>
no-dgram</h3>
<p>Don't build support for datagram based BIOs.</p>
<p>Selecting this option will also force the disabling of DTLS.</p>
<h3><a class="anchor" id="autotoc_md596"></a>
no-docs</h3>
<p>Don't build and install documentation, i.e. manual pages in various forms.</p>
<h3><a class="anchor" id="autotoc_md597"></a>
no-dso</h3>
<p>Don't build support for loading Dynamic Shared Objects (DSO)</p>
<h3><a class="anchor" id="autotoc_md598"></a>
enable-devcryptoeng</h3>
<p>Build the <code>/dev/crypto</code> engine.</p>
<p>This option is automatically selected on the BSD platform, in which case it can be disabled with <code>no-devcryptoeng</code>.</p>
<h3><a class="anchor" id="autotoc_md599"></a>
no-dynamic-engine</h3>
<p>Don't build the dynamically loaded engines.</p>
<p>This only has an effect in a shared build.</p>
<h3><a class="anchor" id="autotoc_md600"></a>
no-ec</h3>
<p>Don't build support for Elliptic Curves.</p>
<h3><a class="anchor" id="autotoc_md601"></a>
no-ec2m</h3>
<p>Don't build support for binary Elliptic Curves</p>
<h3><a class="anchor" id="autotoc_md602"></a>
enable-ec_nistp_64_gcc_128</h3>
<p>Enable support for optimised implementations of some commonly used NIST elliptic curves.</p>
<p>This option is only supported on platforms:</p>
<ul>
<li>with little-endian storage of non-byte types</li>
<li>that tolerate misaligned memory references</li>
<li>where the compiler:<ul>
<li>supports the non-standard type <code>__uint128_t</code></li>
<li>defines the built-in macro <code>__SIZEOF_INT128__</code></li>
</ul>
</li>
</ul>
<h3><a class="anchor" id="autotoc_md603"></a>
enable-egd</h3>
<p>Build support for gathering entropy from the Entropy Gathering Daemon (EGD).</p>
<h3><a class="anchor" id="autotoc_md604"></a>
no-engine</h3>
<p>Don't build support for loading engines.</p>
<h3><a class="anchor" id="autotoc_md605"></a>
no-err</h3>
<p>Don't compile in any error strings.</p>
<h3><a class="anchor" id="autotoc_md606"></a>
enable-external-tests</h3>
<p>Enable building of integration with external test suites.</p>
<p>This is a developer option and may not work on all platforms. The following external test suites are currently supported:</p>
<ul>
<li>GOST engine test suite</li>
<li>Python PYCA/Cryptography test suite</li>
<li>krb5 test suite</li>
</ul>
<p>See the file <a class="el" href="md__c_1_2_users_2namph_2_downloads_2openssl_2openssl-3_82_81_2test_2_r_e_a_d_m_e-external.html">test/README-external.md</a> for further details.</p>
<h3><a class="anchor" id="autotoc_md607"></a>
no-filenames</h3>
<p>Don't compile in filename and line number information (e.g. for errors and memory allocation).</p>
<h3><a class="anchor" id="autotoc_md608"></a>
enable-fips</h3>
<p>Build (and install) the FIPS provider</p>
<h3><a class="anchor" id="autotoc_md609"></a>
no-fips-securitychecks</h3>
<p>Don't perform FIPS module run-time checks related to enforcement of security parameters such as minimum security strength of keys.</p>
<h3><a class="anchor" id="autotoc_md610"></a>
enable-fuzz-libfuzzer, enable-fuzz-afl</h3>
<p>Build with support for fuzzing using either libfuzzer or AFL.</p>
<p>These are developer options only. They may not work on all platforms and should never be used in production environments.</p>
<p>See the file <a class="el" href="md__c_1_2_users_2namph_2_downloads_2openssl_2openssl-3_82_81_2fuzz_2_r_e_a_d_m_e.html">fuzz/README.md</a> for further details.</p>
<h3><a class="anchor" id="autotoc_md611"></a>
no-gost</h3>
<p>Don't build support for GOST based ciphersuites.</p>
<p>Note that if this feature is enabled then GOST ciphersuites are only available if the GOST algorithms are also available through loading an externally supplied engine.</p>
<h3><a class="anchor" id="autotoc_md612"></a>
no-http</h3>
<p>Disable HTTP support.</p>
<h3><a class="anchor" id="autotoc_md613"></a>
no-legacy</h3>
<p>Don't build the legacy provider.</p>
<p>Disabling this also disables the legacy algorithms: MD2 (already disabled by default).</p>
<h3><a class="anchor" id="autotoc_md614"></a>
no-makedepend</h3>
<p>Don't generate dependencies.</p>
<h3><a class="anchor" id="autotoc_md615"></a>
no-module</h3>
<p>Don't build any dynamically loadable engines.</p>
<p>This also implies <code>no-dynamic-engine</code>.</p>
<h3><a class="anchor" id="autotoc_md616"></a>
no-multiblock</h3>
<p>Don't build support for writing multiple records in one go in libssl</p>
<p>Note: this is a different capability to the pipelining functionality.</p>
<h3><a class="anchor" id="autotoc_md617"></a>
no-nextprotoneg</h3>
<p>Don't build support for the Next Protocol Negotiation (NPN) TLS extension.</p>
<h3><a class="anchor" id="autotoc_md618"></a>
no-ocsp</h3>
<p>Don't build support for Online Certificate Status Protocol (OCSP).</p>
<h3><a class="anchor" id="autotoc_md619"></a>
no-padlockeng</h3>
<p>Don't build the padlock engine.</p>
<h3><a class="anchor" id="autotoc_md620"></a>
no-hw-padlock</h3>
<p>As synonym for <code>no-padlockeng</code>. Deprecated and should not be used.</p>
<h3><a class="anchor" id="autotoc_md621"></a>
no-pic</h3>
<p>Don't build with support for Position Independent Code.</p>
<h3><a class="anchor" id="autotoc_md622"></a>
no-pinshared</h3>
<p>Don't pin the shared libraries.</p>
<p>By default OpenSSL will attempt to stay in memory until the process exits. This is so that libcrypto and libssl can be properly cleaned up automatically via an <code>atexit()</code> handler. The handler is registered by libcrypto and cleans up both libraries. On some platforms the <code>atexit()</code> handler will run on unload of libcrypto (if it has been dynamically loaded) rather than at process exit.</p>
<p>This option can be used to stop OpenSSL from attempting to stay in memory until the process exits. This could lead to crashes if either libcrypto or libssl have already been unloaded at the point that the atexit handler is invoked, e.g. on a platform which calls <code>atexit()</code> on unload of the library, and libssl is unloaded before libcrypto then a crash is likely to happen.</p>
<p>Note that shared library pinning is not automatically disabled for static builds, i.e., <code>no-shared</code> does not imply <code>no-pinshared</code>. This may come as a surprise when linking libcrypto statically into a shared third-party library, because in this case the shared library will be pinned. To prevent this behaviour, you need to configure the static build using <code>no-shared</code> and <code>no-pinshared</code> together.</p>
<p>Applications can suppress running of the <code>atexit()</code> handler at run time by using the <code>OPENSSL_INIT_NO_ATEXIT</code> option to <code>OPENSSL_init_crypto()</code>. See the man page for it for further details.</p>
<h3><a class="anchor" id="autotoc_md623"></a>
no-posix-io</h3>
<p>Don't use POSIX IO capabilities.</p>
<h3><a class="anchor" id="autotoc_md624"></a>
no-psk</h3>
<p>Don't build support for Pre-Shared Key based ciphersuites.</p>
<h3><a class="anchor" id="autotoc_md625"></a>
no-rdrand</h3>
<p>Don't use hardware RDRAND capabilities.</p>
<h3><a class="anchor" id="autotoc_md626"></a>
no-rfc3779</h3>
<p>Don't build support for RFC3779, "X.509 Extensions for IP Addresses and
AS Identifiers".</p>
<h3><a class="anchor" id="autotoc_md627"></a>
sctp</h3>
<p>Build support for Stream Control Transmission Protocol (SCTP).</p>
<h3><a class="anchor" id="autotoc_md628"></a>
no-shared</h3>
<p>Do not create shared libraries, only static ones.</p>
<p>See Notes on shared libraries below.</p>
<h3><a class="anchor" id="autotoc_md629"></a>
no-sm2-precomp</h3>
<p>Disable using the SM2 precomputed table on aarch64 to make the library smaller.</p>
<h3><a class="anchor" id="autotoc_md630"></a>
no-sock</h3>
<p>Don't build support for socket BIOs.</p>
<h3><a class="anchor" id="autotoc_md631"></a>
no-srp</h3>
<p>Don't build support for Secure Remote Password (SRP) protocol or SRP based ciphersuites.</p>
<h3><a class="anchor" id="autotoc_md632"></a>
no-srtp</h3>
<p>Don't build Secure Real-Time Transport Protocol (SRTP) support.</p>
<h3><a class="anchor" id="autotoc_md633"></a>
no-sse2</h3>
<p>Exclude SSE2 code paths from 32-bit x86 assembly modules.</p>
<p>Normally SSE2 extension is detected at run-time, but the decision whether or not the machine code will be executed is taken solely on CPU capability vector. This means that if you happen to run OS kernel which does not support SSE2 extension on Intel P4 processor, then your application might be exposed to "illegal
instruction" exception. There might be a way to enable support in kernel, e.g. FreeBSD kernel can be compiled with <code>CPU_ENABLE_SSE</code>, and there is a way to disengage SSE2 code paths upon application start-up, but if you aim for wider "audience" running such kernel, consider <code>no-sse2</code>. Both the <code>386</code> and <code>no-asm</code> options imply <code>no-sse2</code>.</p>
<h3><a class="anchor" id="autotoc_md634"></a>
no-ssl-trace</h3>
<p>Don't build with SSL Trace capabilities.</p>
<p>This removes the <code>-trace</code> option from <code>s_client</code> and <code>s_server</code>, and omits the <code>SSL_trace()</code> function from libssl.</p>
<p>Disabling <code>ssl-trace</code> may provide a small reduction in libssl binary size.</p>
<h3><a class="anchor" id="autotoc_md635"></a>
no-static-engine</h3>
<p>Don't build the statically linked engines.</p>
<p>This only has an impact when not built "shared".</p>
<h3><a class="anchor" id="autotoc_md636"></a>
no-stdio</h3>
<p>Don't use anything from the C header file <code>stdio.h</code> that makes use of the <code>FILE</code> type. Only libcrypto and libssl can be built in this way. Using this option will suppress building the command line applications. Additionally, since the OpenSSL tests also use the command line applications, the tests will also be skipped.</p>
<h3><a class="anchor" id="autotoc_md637"></a>
no-tests</h3>
<p>Don't build test programs or run any tests.</p>
<h3><a class="anchor" id="autotoc_md638"></a>
enable-tfo</h3>
<p>Build with support for TCP Fast Open (RFC7413). Supported on Linux, macOS and FreeBSD.</p>
<h3><a class="anchor" id="autotoc_md639"></a>
no-quic</h3>
<p>Don't build with QUIC support.</p>
<h3><a class="anchor" id="autotoc_md640"></a>
no-threads</h3>
<p>Don't build with support for multi-threaded applications.</p>
<h3><a class="anchor" id="autotoc_md641"></a>
threads</h3>
<p>Build with support for multi-threaded applications. Most platforms will enable this by default. However, if on a platform where this is not the case then this will usually require additional system-dependent options!</p>
<p>See Notes on multi-threading below.</p>
<h3><a class="anchor" id="autotoc_md642"></a>
no-thread-pool</h3>
<p>Don't build with support for thread pool functionality.</p>
<h3><a class="anchor" id="autotoc_md643"></a>
thread-pool</h3>
<p>Build with thread pool functionality. If enabled, OpenSSL algorithms may use the thread pool to perform parallel computation. This option in itself does not enable OpenSSL to spawn new threads. Currently the only supported thread pool mechanism is the default thread pool.</p>
<h3><a class="anchor" id="autotoc_md644"></a>
no-default-thread-pool</h3>
<p>Don't build with support for default thread pool functionality.</p>
<h3><a class="anchor" id="autotoc_md645"></a>
default-thread-pool</h3>
<p>Build with default thread pool functionality. If enabled, OpenSSL may create and manage threads up to a maximum number of threads authorized by the application. Supported on POSIX compliant platforms and Windows.</p>
<h3><a class="anchor" id="autotoc_md646"></a>
enable-trace</h3>
<p>Build with support for the integrated tracing api.</p>
<p>See manual pages OSSL_trace_set_channel(3) and OSSL_trace_enabled(3) for details.</p>
<h3><a class="anchor" id="autotoc_md647"></a>
no-ts</h3>
<p>Don't build Time Stamping (TS) Authority support.</p>
<h3><a class="anchor" id="autotoc_md648"></a>
enable-ubsan</h3>
<p>Build with the Undefined Behaviour sanitiser (UBSAN).</p>
<p>This is a developer option only. It may not work on all platforms and should never be used in production environments. It will only work when used with gcc or clang and should be used in conjunction with the <code>-DPEDANTIC</code> option (or the <code>--strict-warnings</code> option).</p>
<h3><a class="anchor" id="autotoc_md649"></a>
no-ui-console</h3>
<p>Don't build with the User Interface (UI) console method</p>
<p>The User Interface console method enables text based console prompts.</p>
<h3><a class="anchor" id="autotoc_md650"></a>
enable-unit-test</h3>
<p>Enable additional unit test APIs.</p>
<p>This should not typically be used in production deployments.</p>
<h3><a class="anchor" id="autotoc_md651"></a>
no-uplink</h3>
<p>Don't build support for UPLINK interface.</p>
<h3><a class="anchor" id="autotoc_md652"></a>
enable-weak-ssl-ciphers</h3>
<p>Build support for SSL/TLS ciphers that are considered "weak"</p>
<p>Enabling this includes for example the RC4 based ciphersuites.</p>
<h3><a class="anchor" id="autotoc_md653"></a>
zlib</h3>
<p>Build with support for zlib compression/decompression.</p>
<h3><a class="anchor" id="autotoc_md654"></a>
zlib-dynamic</h3>
<p>Like the zlib option, but has OpenSSL load the zlib library dynamically when needed.</p>
<p>This is only supported on systems where loading of shared libraries is supported.</p>
<h3><a class="anchor" id="autotoc_md655"></a>
enable-zstd</h3>
<p>Build with support for Zstd compression/decompression.</p>
<h3><a class="anchor" id="autotoc_md656"></a>
enable-zstd-dynamic</h3>
<p>Like the enable-zstd option, but has OpenSSL load the Zstd library dynamically when needed.</p>
<p>This is only supported on systems where loading of shared libraries is supported.</p>
<h3><a class="anchor" id="autotoc_md657"></a>
386</h3>
<p>In 32-bit x86 builds, use the 80386 instruction set only in assembly modules</p>
<p>The default x86 code is more efficient, but requires at least an 486 processor. Note: This doesn't affect compiler generated code, so this option needs to be accompanied by a corresponding compiler-specific option.</p>
<h3><a class="anchor" id="autotoc_md658"></a>
no-{protocol}</h3>
<pre class="fragment">no-{ssl|ssl3|tls|tls1|tls1_1|tls1_2|tls1_3|dtls|dtls1|dtls1_2}
</pre><p> Don't build support for negotiating the specified SSL/TLS protocol.</p>
<p>If <code>no-tls</code> is selected then all of <code>tls1</code>, <code>tls1_1</code>, <code>tls1_2</code> and <code>tls1_3</code> are disabled. Similarly <code>no-dtls</code> will disable <code>dtls1</code> and <code>dtls1_2</code>. The <code>no-ssl</code> option is synonymous with <code>no-ssl3</code>. Note this only affects version negotiation. OpenSSL will still provide the methods for applications to explicitly select the individual protocol versions.</p>
<h3><a class="anchor" id="autotoc_md659"></a>
no-{protocol}-method</h3>
<pre class="fragment">no-{ssl3|tls1|tls1_1|tls1_2|dtls1|dtls1_2}-method
</pre><p> Analogous to <code>no-{protocol}</code> but in addition do not build the methods for applications to explicitly select individual protocol versions. Note that there is no <code>no-tls1_3-method</code> option because there is no application method for TLSv1.3.</p>
<p>Using individual protocol methods directly is deprecated. Applications should use <code>TLS_method()</code> instead.</p>
<h3><a class="anchor" id="autotoc_md660"></a>
enable-{algorithm}</h3>
<pre class="fragment">enable-{md2|rc5}
</pre><p> Build with support for the specified algorithm.</p>
<h3><a class="anchor" id="autotoc_md661"></a>
no-{algorithm}</h3>
<pre class="fragment">no-{aria|bf|blake2|camellia|cast|chacha|cmac|
    des|dh|dsa|ecdh|ecdsa|idea|md4|mdc2|ocb|
    poly1305|rc2|rc4|rmd160|scrypt|seed|
    siphash|siv|sm2|sm3|sm4|whirlpool}
</pre><p> Build without support for the specified algorithm.</p>
<p>The <code>ripemd</code> algorithm is deprecated and if used is synonymous with <code>rmd160</code>.</p>
<h3><a class="anchor" id="autotoc_md662"></a>
Compiler-specific options</h3>
<pre class="fragment">-Dxxx, -Ixxx, -Wp, -lxxx, -Lxxx, -Wl, -rpath, -R, -framework, -static
</pre><p> These system specific options will be recognised and passed through to the compiler to allow you to define preprocessor symbols, specify additional libraries, library directories or other compiler options. It might be worth noting that some compilers generate code specifically for processor the compiler currently executes on. This is not necessarily what you might have in mind, since it might be unsuitable for execution on other, typically older, processor. Consult your compiler documentation.</p>
<p>Take note of the Environment Variables documentation below and how these flags interact with those variables. </p><pre class="fragment">-xxx, +xxx, /xxx
</pre><p> Additional options that are not otherwise recognised are passed through as they are to the compiler as well. Unix-style options beginning with a <code>-</code> or <code>+</code> and Windows-style options beginning with a <code>/</code> are recognised. Again, consult your compiler documentation.</p>
<p>If the option contains arguments separated by spaces, then the URL-style notation <code>%20</code> can be used for the space character in order to avoid having to quote the option. For example, <code>-opt%20arg</code> gets expanded to <code>-opt arg</code>. In fact, any ASCII character can be encoded as xx using its hexadecimal encoding.</p>
<p>Take note of the Environment Variables documentation below and how these flags interact with those variables.</p>
<h3><a class="anchor" id="autotoc_md663"></a>
Environment Variables</h3>
<pre class="fragment">VAR=value
</pre><p> Assign the given value to the environment variable <code>VAR</code> for <code>Configure</code>.</p>
<p>These work just like normal environment variable assignments, but are supported on all platforms and are confined to the configuration scripts only. These assignments override the corresponding value in the inherited environment, if there is one.</p>
<p>The following variables are used as "`make` variables" and can be used as an alternative to giving preprocessor, compiler and linker options directly as configuration. The following variables are supported: </p><pre class="fragment">AR              The static library archiver.
ARFLAGS         Flags for the static library archiver.
AS              The assembler compiler.
ASFLAGS         Flags for the assembler compiler.
CC              The C compiler.
CFLAGS          Flags for the C compiler.
CXX             The C++ compiler.
CXXFLAGS        Flags for the C++ compiler.
CPP             The C/C++ preprocessor.
CPPFLAGS        Flags for the C/C++ preprocessor.
CPPDEFINES      List of CPP macro definitions, separated
                by a platform specific character (':' or
                space for Unix, ';' for Windows, ',' for
                VMS).  This can be used instead of using
                -D (or what corresponds to that on your
                compiler) in CPPFLAGS.
CPPINCLUDES     List of CPP inclusion directories, separated
                the same way as for CPPDEFINES.  This can
                be used instead of -I (or what corresponds
                to that on your compiler) in CPPFLAGS.
HASHBANGPERL    Perl invocation to be inserted after '#!'
                in public perl scripts (only relevant on
                Unix).
LD              The program linker (not used on Unix, $(CC)
                is used there).
LDFLAGS         Flags for the shared library, DSO and
                program linker.
LDLIBS          Extra libraries to use when linking.
                Takes the form of a space separated list
                of library specifications on Unix and
                Windows, and as a comma separated list of
                libraries on VMS.
RANLIB          The library archive indexer.
RC              The Windows resource compiler.
RCFLAGS         Flags for the Windows resource compiler.
RM              The command to remove files and directories.
</pre><p> These cannot be mixed with compiling/linking flags given on the command line. In other words, something like this isn't permitted. </p><pre class="fragment">$ ./Configure -DFOO CPPFLAGS=-DBAR -DCOOKIE
</pre><p> Backward compatibility note:</p>
<p>To be compatible with older configuration scripts, the environment variables are ignored if compiling/linking flags are given on the command line, except for the following: </p><pre class="fragment">AR, CC, CXX, CROSS_COMPILE, HASHBANGPERL, PERL, RANLIB, RC, and WINDRES
</pre><p> For example, the following command will not see <code>-DBAR</code>: </p><pre class="fragment">$ CPPFLAGS=-DBAR ./Configure -DCOOKIE
</pre><p> However, the following will see both set variables: </p><pre class="fragment">$ CC=gcc CROSS_COMPILE=x86_64-w64-mingw32- ./Configure -DCOOKIE
</pre><p> If <code>CC</code> is set, it is advisable to also set <code>CXX</code> to ensure both the C and C++ compiler are in the same "family". This becomes relevant with <code>enable-external-tests</code> and <code>enable-buildtest-c++</code>.</p>
<h3><a class="anchor" id="autotoc_md664"></a>
Reconfigure</h3>
<pre class="fragment">reconf
reconfigure
</pre><p> Reconfigure from earlier data.</p>
<p>This fetches the previous command line options and environment from data saved in <code>configdata.pm</code> and runs the configuration process again, using these options and environment. Note: NO other option is permitted together with <code>reconf</code>. Note: The original configuration saves away values for ALL environment variables that were used, and if they weren't defined, they are still saved away with information that they weren't originally defined. This information takes precedence over environment variables that are defined when reconfiguring.</p>
<h2><a class="anchor" id="autotoc_md665"></a>
Displaying configuration data</h2>
<p>The configuration script itself will say very little, and finishes by creating <code>configdata.pm</code>. This perl module can be loaded by other scripts to find all the configuration data, and it can also be used as a script to display all sorts of configuration data in a human readable form.</p>
<p>For more information, please do: </p><pre class="fragment">$ ./configdata.pm --help                         # Unix
</pre><p> or </p><pre class="fragment">$ perl configdata.pm --help                      # Windows and VMS
</pre> <h1><a class="anchor" id="autotoc_md666"></a>
Installation Steps in Detail</h1>
<h2><a class="anchor" id="autotoc_md667"></a>
Configure OpenSSL</h2>
<h3><a class="anchor" id="autotoc_md668"></a>
Automatic Configuration</h3>
<p>In previous version, the <code>config</code> script determined the platform type and compiler and then called <code>Configure</code>. Starting with this release, they are the same.</p>
<h4><a class="anchor" id="autotoc_md669"></a>
Unix / Linux / macOS</h4>
<pre class="fragment">$ ./Configure [options...]
</pre> <h4><a class="anchor" id="autotoc_md670"></a>
OpenVMS</h4>
<pre class="fragment">$ perl Configure [options...]
</pre> <h4><a class="anchor" id="autotoc_md671"></a>
Windows</h4>
<pre class="fragment">$ perl Configure [options...]
</pre> <h3><a class="anchor" id="autotoc_md672"></a>
Manual Configuration</h3>
<p>OpenSSL knows about a range of different operating system, hardware and compiler combinations. To see the ones it knows about, run </p><pre class="fragment">$ ./Configure LIST                               # Unix
</pre><p> or </p><pre class="fragment">$ perl Configure LIST                            # All other platforms
</pre><p> For the remainder of this text, the Unix form will be used in all examples. Please use the appropriate form for your platform.</p>
<p>Pick a suitable name from the list that matches your system. For most operating systems there is a choice between using cc or gcc. When you have identified your system (and if necessary compiler) use this name as the argument to <code>Configure</code>. For example, a <code>linux-elf</code> user would run: </p><pre class="fragment">$ ./Configure linux-elf [options...]
</pre> <h3><a class="anchor" id="autotoc_md673"></a>
Creating your own Configuration</h3>
<p>If your system isn't listed, you will have to create a configuration file named <code>Configurations/YOURFILENAME.conf</code> (replace <code>YOURFILENAME</code> with a filename of your choosing) and add the correct configuration for your system. See the available configs as examples and read <a class="el" href="md__c_1_2_users_2namph_2_downloads_2openssl_2openssl-3_82_81_2_configurations_2_r_e_a_d_m_e.html">Configurations/README.md</a> and <a class="el" href="md__c_1_2_users_2namph_2_downloads_2openssl_2openssl-3_82_81_2_configurations_2_r_e_a_d_m_e-design.html">Configurations/README-design.md</a> for more information.</p>
<p>The generic configurations <code>cc</code> or <code>gcc</code> should usually work on 32 bit Unix-like systems.</p>
<p><code>Configure</code> creates a build file (<code>Makefile</code> on Unix, <code>makefile</code> on Windows and <code>descrip.mms</code> on OpenVMS) from a suitable template in <code>Configurations/</code>, and defines various macros in <code><a class="el" href="configuration_8h_source.html">include/openssl/configuration.h</a></code> (generated from <code>include/openssl/configuration.h.in</code>.</p>
<p>If none of the generated build files suit your purpose, it's possible to write your own build file template and give its name through the environment variable <code>BUILDFILE</code>. For example, Ninja build files could be supported by writing <code>Configurations/build.ninja.tmpl</code> and then configure with <code>BUILDFILE</code> set like this (Unix syntax shown, you'll have to adapt for other platforms): </p><pre class="fragment">$ BUILDFILE=build.ninja perl Configure [options...]
</pre> <h3><a class="anchor" id="autotoc_md674"></a>
Out of Tree Builds</h3>
<p>OpenSSL can be configured to build in a build directory separate from the source code directory. It's done by placing yourself in some other directory and invoking the configuration commands from there.</p>
<h4><a class="anchor" id="autotoc_md675"></a>
Unix example</h4>
<pre class="fragment">$ mkdir /var/tmp/openssl-build
$ cd /var/tmp/openssl-build
$ /PATH/TO/OPENSSL/SOURCE/Configure [options...]
</pre> <h4><a class="anchor" id="autotoc_md676"></a>
OpenVMS example</h4>
<pre class="fragment">$ set default sys$login:
$ create/dir [.tmp.openssl-build]
$ set default [.tmp.openssl-build]
$ perl D:[PATH.TO.OPENSSL.SOURCE]Configure [options...]
</pre> <h4><a class="anchor" id="autotoc_md677"></a>
Windows example</h4>
<pre class="fragment">$ C:
$ mkdir \temp-openssl
$ cd \temp-openssl
$ perl d:\PATH\TO\OPENSSL\SOURCE\Configure [options...]
</pre><p> Paths can be relative just as well as absolute. <code>Configure</code> will do its best to translate them to relative paths whenever possible.</p>
<h2><a class="anchor" id="autotoc_md678"></a>
Build OpenSSL</h2>
<p>Build OpenSSL by running: </p><pre class="fragment">$ make                                           # Unix
$ mms                                            ! (or mmk) OpenVMS
$ nmake                                          # Windows
</pre><p> This will build the OpenSSL libraries (<code>libcrypto.a</code> and <code>libssl.a</code> on Unix, corresponding on other platforms) and the OpenSSL binary (<code>openssl</code>). The libraries will be built in the top-level directory, and the binary will be in the <code>apps/</code> subdirectory.</p>
<p>If the build fails, take a look at the Build Failures subsection of the Troubleshooting section.</p>
<h2><a class="anchor" id="autotoc_md679"></a>
Test OpenSSL</h2>
<p>After a successful build, and before installing, the libraries should be tested. Run: </p><pre class="fragment">$ make test                                      # Unix
$ mms test                                       ! OpenVMS
$ nmake test                                     # Windows
</pre><p> <b>Warning:</b> you MUST run the tests from an unprivileged account (or disable your privileges temporarily if your platform allows it).</p>
<p>See <a class="el" href="md__c_1_2_users_2namph_2_downloads_2openssl_2openssl-3_82_81_2test_2_r_e_a_d_m_e.html">test/README.md</a> for further details how run tests.</p>
<p>See <a class="el" href="md__c_1_2_users_2namph_2_downloads_2openssl_2openssl-3_82_81_2test_2_r_e_a_d_m_e-dev.html">test/README-dev.md</a> for guidelines on adding tests.</p>
<h2><a class="anchor" id="autotoc_md680"></a>
Install OpenSSL</h2>
<p>If everything tests ok, install OpenSSL with </p><pre class="fragment">$ make install                                   # Unix
$ mms install                                    ! OpenVMS
$ nmake install                                  # Windows
</pre><p> Note that in order to perform the install step above you need to have appropriate permissions to write to the installation directory.</p>
<p>The above commands will install all the software components in this directory tree under <code>&lt;PREFIX&gt;</code> (the directory given with <code>--prefix</code> or its default):</p>
<h3><a class="anchor" id="autotoc_md681"></a>
Unix / Linux / macOS</h3>
<pre class="fragment">bin/           Contains the openssl binary and a few other
               utility scripts.
include/openssl
               Contains the header files needed if you want
               to build your own programs that use libcrypto
               or libssl.
lib            Contains the OpenSSL library files.
lib/engines    Contains the OpenSSL dynamically loadable engines.

share/man/man1 Contains the OpenSSL command line man-pages.
share/man/man3 Contains the OpenSSL library calls man-pages.
share/man/man5 Contains the OpenSSL configuration format man-pages.
share/man/man7 Contains the OpenSSL other misc man-pages.

share/doc/openssl/html/man1
share/doc/openssl/html/man3
share/doc/openssl/html/man5
share/doc/openssl/html/man7
               Contains the HTML rendition of the man-pages.
</pre> <h3><a class="anchor" id="autotoc_md682"></a>
OpenVMS</h3>
<p>'arch' is replaced with the architecture name, <code>ALPHA</code> or <code>IA64</code>, 'sover' is replaced with the shared library version (<code>0101</code> for 1.1), and 'pz' is replaced with the pointer size OpenSSL was built with: </p><pre class="fragment">[.EXE.'arch']  Contains the openssl binary.
[.EXE]         Contains a few utility scripts.
[.include.openssl]
               Contains the header files needed if you want
               to build your own programs that use libcrypto
               or libssl.
[.LIB.'arch']  Contains the OpenSSL library files.
[.ENGINES'sover''pz'.'arch']
               Contains the OpenSSL dynamically loadable engines.
[.SYS$STARTUP] Contains startup, login and shutdown scripts.
               These define appropriate logical names and
               command symbols.
[.SYSTEST]     Contains the installation verification procedure.
[.HTML]        Contains the HTML rendition of the manual pages.
</pre> <h3><a class="anchor" id="autotoc_md683"></a>
Additional Directories</h3>
<p>Additionally, install will add the following directories under OPENSSLDIR (the directory given with <code>--openssldir</code> or its default) for you convenience: </p><pre class="fragment">certs          Initially empty, this is the default location
               for certificate files.
private        Initially empty, this is the default location
               for private key files.
misc           Various scripts.
</pre><p> The installation directory should be appropriately protected to ensure unprivileged users cannot make changes to OpenSSL binaries or files, or install engines. If you already have a pre-installed version of OpenSSL as part of your Operating System it is recommended that you do not overwrite the system version and instead install to somewhere else.</p>
<p>Package builders who want to configure the library for standard locations, but have the package installed somewhere else so that it can easily be packaged, can use </p><pre class="fragment">$ make DESTDIR=/tmp/package-root install         # Unix
$ mms/macro="DESTDIR=TMP:[PACKAGE-ROOT]" install ! OpenVMS
</pre><p> The specified destination directory will be prepended to all installation target paths.</p>
<h2><a class="anchor" id="autotoc_md684"></a>
Compatibility issues with previous OpenSSL versions</h2>
<h3><a class="anchor" id="autotoc_md685"></a>
COMPILING existing applications</h3>
<p>Starting with version 1.1.0, OpenSSL hides a number of structures that were previously open. This includes all internal libssl structures and a number of EVP types. Accessor functions have been added to allow controlled access to the structures' data.</p>
<p>This means that some software needs to be rewritten to adapt to the new ways of doing things. This often amounts to allocating an instance of a structure explicitly where you could previously allocate them on the stack as automatic variables, and using the provided accessor functions where you would previously access a structure's field directly.</p>
<p>Some APIs have changed as well. However, older APIs have been preserved when possible.</p>
<h2><a class="anchor" id="autotoc_md686"></a>
Post-installation Notes</h2>
<p>With the default OpenSSL installation comes a FIPS provider module, which needs some post-installation attention, without which it will not be usable. This involves using the following command: </p><pre class="fragment">$ openssl fipsinstall
</pre><p> See the openssl-fipsinstall(1) manual for details and examples.</p>
<h1><a class="anchor" id="autotoc_md687"></a>
Advanced Build Options</h1>
<h2><a class="anchor" id="autotoc_md688"></a>
Environment Variables</h2>
<p>A number of environment variables can be used to provide additional control over the build process. Typically these should be defined prior to running <code>Configure</code>. Not all environment variables are relevant to all platforms. </p><pre class="fragment">AR
               The name of the ar executable to use.

BUILDFILE
               Use a different build file name than the platform default
               ("Makefile" on Unix-like platforms, "makefile" on native Windows,
               "descrip.mms" on OpenVMS).  This requires that there is a
               corresponding build file template.
               See [Configurations/README.md](Configurations/README.md)
               for further information.

CC
               The compiler to use. Configure will attempt to pick a default
               compiler for your platform but this choice can be overridden
               using this variable. Set it to the compiler executable you wish
               to use, e.g. gcc or clang.

CROSS_COMPILE
               This environment variable has the same meaning as for the
               "--cross-compile-prefix" Configure flag described above. If both
               are set then the Configure flag takes precedence.

HASHBANGPERL
               The command string for the Perl executable to insert in the
               #! line of perl scripts that will be publicly installed.
               Default: /usr/bin/env perl
               Note: the value of this variable is added to the same scripts
               on all platforms, but it's only relevant on Unix-like platforms.

KERNEL_BITS
               This can be the value `32` or `64` to specify the architecture
               when it is not "obvious" to the configuration. It should generally
               not be necessary to specify this environment variable.

NM
               The name of the nm executable to use.

OPENSSL_LOCAL_CONFIG_DIR
               OpenSSL comes with a database of information about how it
               should be built on different platforms as well as build file
               templates for those platforms. The database is comprised of
               ".conf" files in the Configurations directory.  The build
               file templates reside there as well as ".tmpl" files. See the
               file [Configurations/README.md](Configurations/README.md)
               for further information about the format of ".conf" files
               as well as information on the ".tmpl" files.
               In addition to the standard ".conf" and ".tmpl" files, it is
               possible to create your own ".conf" and ".tmpl" files and
               store them locally, outside the OpenSSL source tree.
               This environment variable can be set to the directory where
               these files are held and will be considered by Configure
               before it looks in the standard directories.

PERL
               The name of the Perl executable to use when building OpenSSL.
               Only needed if building should use a different Perl executable
               than what is used to run the Configure script.

RANLIB
               The name of the ranlib executable to use.

RC
               The name of the rc executable to use. The default will be as
               defined for the target platform in the ".conf" file. If not
               defined then "windres" will be used. The WINDRES environment
               variable is synonymous to this. If both are defined then RC
               takes precedence.

WINDRES
               See RC.
</pre> <h2><a class="anchor" id="autotoc_md689"></a>
Makefile Targets</h2>
<p>The <code>Configure</code> script generates a Makefile in a format relevant to the specific platform. The Makefiles provide a number of targets that can be used. Not all targets may be available on all platforms. Only the most common targets are described here. Examine the Makefiles themselves for the full list. </p><pre class="fragment">all
               The target to build all the software components and
               documentation.

build_sw
               Build all the software components.
               THIS IS THE DEFAULT TARGET.

build_docs
               Build all documentation components.

clean
               Remove all build artefacts and return the directory to a "clean"
               state.

depend
               Rebuild the dependencies in the Makefiles. This is a legacy
               option that no longer needs to be used since OpenSSL 1.1.0.

install
               Install all OpenSSL components.

install_sw
               Only install the OpenSSL software components.

install_docs
               Only install the OpenSSL documentation components.

install_man_docs
               Only install the OpenSSL man pages (Unix only).

install_html_docs
               Only install the OpenSSL HTML documentation.

install_fips
               Install the FIPS provider module configuration file.

list-tests
               Prints a list of all the self test names.

test
               Build and run the OpenSSL self tests.

uninstall
               Uninstall all OpenSSL components.

reconfigure
reconf
               Re-run the configuration process, as exactly as the last time
               as possible.

update
               This is a developer option. If you are developing a patch for
               OpenSSL you may need to use this if you want to update
               automatically generated files; add new error codes or add new
               (or change the visibility of) public API functions. (Unix only).
</pre> <h2><a class="anchor" id="autotoc_md690"></a>
Running Selected Tests</h2>
<p>You can specify a set of tests to be performed using the <code>make</code> variable <code>TESTS</code>.</p>
<p>See the section <a href="test/README.md#running-selected-tests">Running Selected Tests of test/README.md</a>.</p>
<h1><a class="anchor" id="autotoc_md691"></a>
Troubleshooting</h1>
<h2><a class="anchor" id="autotoc_md692"></a>
Configuration Problems</h2>
<h3><a class="anchor" id="autotoc_md693"></a>
Selecting the correct target</h3>
<p>The <code>./Configure</code> script tries hard to guess your operating system, but in some cases it does not succeed. You will see a message like the following: </p><pre class="fragment">$ ./Configure
Operating system: x86-whatever-minix
This system (minix) is not supported. See file INSTALL.md for details.
</pre><p> Even if the automatic target selection by the <code>./Configure</code> script fails, chances are that you still might find a suitable target in the <code>Configurations</code> directory, which you can supply to the <code>./Configure</code> command, possibly after some adjustment.</p>
<p>The <code>Configurations/</code> directory contains a lot of examples of such targets. The main configuration file is <a href="Configurations/10-main.conf">10-main.conf</a>, which contains all targets that are officially supported by the OpenSSL team. Other configuration files contain targets contributed by other OpenSSL users. The list of targets can be found in a Perl list <code>my targets = ( ... )</code>. </p><pre class="fragment">my %targets = (
...
"target-name" =&gt; {
    inherit_from     =&gt; [ "base-target" ],
    CC               =&gt; "...",
    cflags           =&gt; add("..."),
    asm_arch         =&gt; '...',
    perlasm_scheme   =&gt; "...",
},
...
)
</pre><p> If you call <code>./Configure</code> without arguments, it will give you a list of all known targets. Using <code>grep</code>, you can lookup the target definition in the <code>Configurations/</code> directory. For example the <code>android-x86_64</code> can be found in <a href="Configurations/15-android.conf">Configurations/15-android.conf</a>.</p>
<p>The directory contains two README files, which explain the general syntax and design of the configuration files.</p>
<ul>
<li><a class="el" href="md__c_1_2_users_2namph_2_downloads_2openssl_2openssl-3_82_81_2_configurations_2_r_e_a_d_m_e.html">Configurations/README.md</a></li>
<li><a class="el" href="md__c_1_2_users_2namph_2_downloads_2openssl_2openssl-3_82_81_2_configurations_2_r_e_a_d_m_e-design.html">Configurations/README-design.md</a></li>
</ul>
<p>If you need further help, try to search the <a href="https://mta.openssl.org/mailman/listinfo/openssl-users&gt;">openssl-users</a> mailing list or the <a href="https://github.com/openssl/openssl/issues&gt;">GitHub Issues</a> for existing solutions. If you don't find anything, you can <a href="https://github.com/openssl/openssl/issues/new/choose&gt;">raise an issue</a> to ask a question yourself.</p>
<p>More about our support resources can be found in the <a class="el" href="md__c_1_2_users_2namph_2_downloads_2openssl_2openssl-3_82_81_2_s_u_p_p_o_r_t.html">SUPPORT</a> file.</p>
<h3><a class="anchor" id="autotoc_md694"></a>
Configuration Errors</h3>
<p>If the <code>./Configure</code> or <code>./Configure</code> command fails with an error message, read the error message carefully and try to figure out whether you made a mistake (e.g., by providing a wrong option), or whether the script is working incorrectly. If you think you encountered a bug, please <a href="https://github.com/openssl/openssl/issues/new/choose&gt;">raise an issue</a> on GitHub to file a bug report.</p>
<p>Along with a short description of the bug, please provide the complete configure command line and the relevant output including the error message.</p>
<p>Note: To make the output readable, please add a 'code fence' (three backquotes <code>` on a separate line) before and after your output: @iverbatim </code>` ./Configure [your arguments...]</p>
<p>[output...]</p>
<p>```  </p>
<h2><a class="anchor" id="autotoc_md695"></a>
Build Failures</h2>
<p>If the build fails, look carefully at the output. Try to locate and understand the error message. It might be that the compiler is already telling you exactly what you need to do to fix your problem.</p>
<p>There may be reasons for the failure that aren't problems in OpenSSL itself, for example if the compiler reports missing standard or third party headers.</p>
<p>If the build succeeded previously, but fails after a source or configuration change, it might be helpful to clean the build tree before attempting another build. Use this command: </p><pre class="fragment">$ make clean                                     # Unix
$ mms clean                                      ! (or mmk) OpenVMS
$ nmake clean                                    # Windows
</pre><p> Assembler error messages can sometimes be sidestepped by using the <code>no-asm</code> configuration option. See also notes.</p>
<p>Compiling parts of OpenSSL with gcc and others with the system compiler will result in unresolved symbols on some systems.</p>
<p>If you are still having problems, try to search the <a href="https://mta.openssl.org/mailman/listinfo/openssl-users&gt;">openssl-users</a> mailing list or the <a href="https://github.com/openssl/openssl/issues&gt;">GitHub Issues</a> for existing solutions. If you think you encountered an OpenSSL bug, please <a href="https://github.com/openssl/openssl/issues/new/choose&gt;">raise an issue</a> to file a bug report. Please take the time to review the existing issues first; maybe the bug was already reported or has already been fixed.</p>
<h2><a class="anchor" id="autotoc_md696"></a>
Test Failures</h2>
<p>If some tests fail, look at the output. There may be reasons for the failure that isn't a problem in OpenSSL itself (like an OS malfunction or a Perl issue).</p>
<p>You may want increased verbosity, that can be accomplished as described in section <a href="test/README.md#test-failures">Test Failures of test/README.md</a>.</p>
<p>You may also want to selectively specify which test(s) to perform. This can be done using the <code>make</code> variable <code>TESTS</code> as described in section <a href="test/README.md#running-selected-tests">Running Selected Tests of test/README.md</a>.</p>
<p>If you find a problem with OpenSSL itself, try removing any compiler optimization flags from the <code>CFLAGS</code> line in the Makefile and run <code>make clean; make</code> or corresponding.</p>
<p>To report a bug please open an issue on GitHub, at <a href="https://github.com/openssl/openssl/issues">https://github.com/openssl/openssl/issues</a>.</p>
<h1><a class="anchor" id="autotoc_md697"></a>
Notes</h1>
<h2><a class="anchor" id="autotoc_md698"></a>
Notes on multi-threading</h2>
<p>For some systems, the OpenSSL <code>Configure</code> script knows what compiler options are needed to generate a library that is suitable for multi-threaded applications. On these systems, support for multi-threading is enabled by default; use the <code>no-threads</code> option to disable (this should never be necessary).</p>
<p>On other systems, to enable support for multi-threading, you will have to specify at least two options: <code>threads</code>, and a system-dependent option. (The latter is <code>-D_REENTRANT</code> on various systems.) The default in this case, obviously, is not to include support for multi-threading (but you can still use <code>no-threads</code> to suppress an annoying warning message from the <code>Configure</code> script.)</p>
<p>OpenSSL provides built-in support for two threading models: pthreads (found on most UNIX/Linux systems), and Windows threads. No other threading models are supported. If your platform does not provide pthreads or Windows threads then you should use <code>Configure</code> with the <code>no-threads</code> option.</p>
<p>For pthreads, all locks are non-recursive. In addition, in a debug build, the mutex attribute <code>PTHREAD_MUTEX_ERRORCHECK</code> is used. If this is not available on your platform, you might have to add <code>-DOPENSSL_NO_MUTEX_ERRORCHECK</code> to your <code>Configure</code> invocation. (On Linux <code>PTHREAD_MUTEX_ERRORCHECK</code> is an enum value, so a built-in ifdef test cannot be used.)</p>
<h2><a class="anchor" id="autotoc_md699"></a>
Notes on shared libraries</h2>
<p>For most systems the OpenSSL <code>Configure</code> script knows what is needed to build shared libraries for libcrypto and libssl. On these systems the shared libraries will be created by default. This can be suppressed and only static libraries created by using the <code>no-shared</code> option. On systems where OpenSSL does not know how to build shared libraries the <code>no-shared</code> option will be forced and only static libraries will be created.</p>
<p>Shared libraries are named a little differently on different platforms. One way or another, they all have the major OpenSSL version number as part of the file name, i.e. for OpenSSL 1.1.x, <code>1.1</code> is somehow part of the name.</p>
<p>On most POSIX platforms, shared libraries are named <code>libcrypto.so.1.1</code> and <code>libssl.so.1.1</code>.</p>
<p>on Cygwin, shared libraries are named <code>cygcrypto-1.1.dll</code> and <code>cygssl-1.1.dll</code> with import libraries <code>libcrypto.dll.a</code> and <code>libssl.dll.a</code>.</p>
<p>On Windows build with MSVC or using MingW, shared libraries are named <code>libcrypto-1_1.dll</code> and <code>libssl-1_1.dll</code> for 32-bit Windows, <code>libcrypto-1_1-x64.dll</code> and <code>libssl-1_1-x64.dll</code> for 64-bit x86_64 Windows, and <code>libcrypto-1_1-ia64.dll</code> and <code>libssl-1_1-ia64.dll</code> for IA64 Windows. With MSVC, the import libraries are named <code>libcrypto.lib</code> and <code>libssl.lib</code>, while with MingW, they are named <code>libcrypto.dll.a</code> and <code>libssl.dll.a</code>.</p>
<p>On VMS, shareable images (VMS speak for shared libraries) are named <code>ossl$libcrypto0101_shr.exe</code> and <code>ossl$libssl0101_shr.exe</code>. However, when OpenSSL is specifically built for 32-bit pointers, the shareable images are named <code>ossl$libcrypto0101_shr32.exe</code> and <code>ossl$libssl0101_shr32.exe</code> instead, and when built for 64-bit pointers, they are named <code>ossl$libcrypto0101_shr64.exe</code> and <code>ossl$libssl0101_shr64.exe</code>.</p>
<h2><a class="anchor" id="autotoc_md700"></a>
Notes on random number generation</h2>
<p>Availability of cryptographically secure random numbers is required for secret key generation. OpenSSL provides several options to seed the internal CSPRNG. If not properly seeded, the internal CSPRNG will refuse to deliver random bytes and a "PRNG not seeded error" will occur.</p>
<p>The seeding method can be configured using the <code>--with-rand-seed</code> option, which can be used to specify a comma separated list of seed methods. However, in most cases OpenSSL will choose a suitable default method, so it is not necessary to explicitly provide this option. Note also that not all methods are available on all platforms. The FIPS provider will silently ignore seed sources that were not validated.</p>
<p>I) On operating systems which provide a suitable randomness source (in form of a system call or system device), OpenSSL will use the optimal available method to seed the CSPRNG from the operating system's randomness sources. This corresponds to the option <code>--with-rand-seed=os</code>.</p>
<p>II) On systems without such a suitable randomness source, automatic seeding and reseeding is disabled (<code>--with-rand-seed=none</code>) and it may be necessary to install additional support software to obtain a random seed and reseed the CSPRNG manually. Please check out the manual pages for <code>RAND_add()</code>, <code>RAND_bytes()</code>, <code>RAND_egd()</code>, and the FAQ for more information.</p>
<h2><a class="anchor" id="autotoc_md701"></a>
Notes on assembler modules compilation</h2>
<p>Compilation of some code paths in assembler modules might depend on whether the current assembler version supports certain ISA extensions or not. Code paths that use the AES-NI, PCLMULQDQ, SSSE3, and SHA extensions are always assembled. Apart from that, the minimum requirements for the assembler versions are shown in the table below:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">ISA extension   </th><th class="markdownTableHeadNone">GNU as   </th><th class="markdownTableHeadNone">nasm   </th><th class="markdownTableHeadNone">llvm    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">AVX   </td><td class="markdownTableBodyNone">2.19   </td><td class="markdownTableBodyNone">2.09   </td><td class="markdownTableBodyNone">3.0    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">AVX2   </td><td class="markdownTableBodyNone">2.22   </td><td class="markdownTableBodyNone">2.10   </td><td class="markdownTableBodyNone">3.1    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ADCX/ADOX   </td><td class="markdownTableBodyNone">2.23   </td><td class="markdownTableBodyNone">2.10   </td><td class="markdownTableBodyNone">3.3    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">AVX512   </td><td class="markdownTableBodyNone">2.25   </td><td class="markdownTableBodyNone">2.11.8   </td><td class="markdownTableBodyNone">3.6 (*)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">AVX512IFMA   </td><td class="markdownTableBodyNone">2.26   </td><td class="markdownTableBodyNone">2.11.8   </td><td class="markdownTableBodyNone">6.0 (*)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">VAES   </td><td class="markdownTableBodyNone">2.30   </td><td class="markdownTableBodyNone">2.13.3   </td><td class="markdownTableBodyNone">6.0 (*)   </td></tr>
</table>
<hr  />
<p>(*) Even though AVX512 support was implemented in llvm 3.6, prior to version 7.0 an explicit -march flag was apparently required to compile assembly modules. But then the compiler generates processor-specific code, which in turn contradicts the idea of performing dispatch at run-time, which is facilitated by the special variable <code>OPENSSL_ia32cap</code>. For versions older than 7.0, it is possible to work around the problem by forcing the build procedure to use the following script: </p><pre class="fragment">#!/bin/sh
exec clang -no-integrated-as "$@"
</pre><p> instead of the real clang. In which case it doesn't matter what clang version is used, as it is the version of the GNU assembler that will be checked.</p>
<hr  />
 </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
