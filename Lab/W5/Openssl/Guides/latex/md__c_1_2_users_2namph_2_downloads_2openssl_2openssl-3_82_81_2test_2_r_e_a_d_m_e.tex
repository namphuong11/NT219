\chapter{Using Open\+SSL Tests}
\hypertarget{md__c_1_2_users_2namph_2_downloads_2openssl_2openssl-3_82_81_2test_2_r_e_a_d_m_e}{}\label{md__c_1_2_users_2namph_2_downloads_2openssl_2openssl-3_82_81_2test_2_r_e_a_d_m_e}\index{Using OpenSSL Tests@{Using OpenSSL Tests}}
After a successful build, and before installing, the libraries should be tested. Run\+: \begin{DoxyVerb}$ make test                                      # Unix
$ mms test                                       ! OpenVMS
$ nmake test                                     # Windows
\end{DoxyVerb}
 {\bfseries{Warning\+:}} you MUST run the tests from an unprivileged account (or disable your privileges temporarily if your platform allows it).

If some tests fail, take a look at the section Test Failures below.\hypertarget{md__c_1_2_users_2namph_2_downloads_2openssl_2openssl-3_82_81_2test_2_r_e_a_d_m_e_autotoc_md987}{}\doxysection{\texorpdfstring{Test Failures}{Test Failures}}\label{md__c_1_2_users_2namph_2_downloads_2openssl_2openssl-3_82_81_2test_2_r_e_a_d_m_e_autotoc_md987}
If some tests fail, look at the output. There may be reasons for the failure that isn\textquotesingle{}t a problem in Open\+SSL itself (like an OS malfunction or a Perl issue). You may want increased verbosity, that can be accomplished like this\+:

Full verbosity, showing full output of all successful and failed test cases ({\ttfamily make} macro {\ttfamily VERBOSE} or {\ttfamily V})\+: \begin{DoxyVerb}$ make V=1 test                                  # Unix
$ mms /macro=(V=1) test                          ! OpenVMS
$ nmake V=1 test                                 # Windows
\end{DoxyVerb}
 Verbosity on failed (sub-\/)tests only ({\ttfamily VERBOSE\+\_\+\+FAILURE} or {\ttfamily VF} or {\ttfamily REPORT\+\_\+\+FAILURES})\+: \begin{DoxyVerb}$ make test VF=1
\end{DoxyVerb}
 Verbosity on failed (sub-\/)tests, in addition progress on succeeded (sub-\/)tests ({\ttfamily VERBOSE\+\_\+\+FAILURE\+\_\+\+PROGRESS} or {\ttfamily VFP} or {\ttfamily REPORT\+\_\+\+FAILURES\+\_\+\+PROGRESS})\+: \begin{DoxyVerb}$ make test VFP=1
\end{DoxyVerb}
 If you want to run just one or a few specific tests, you can use the make variable TESTS to specify them, like this\+: \begin{DoxyVerb}$ make TESTS='test_rsa test_dsa' test            # Unix
$ mms/macro="TESTS=test_rsa test_dsa" test       ! OpenVMS
$ nmake TESTS="test_rsa test_dsa" test           # Windows
\end{DoxyVerb}
 And of course, you can combine (Unix examples shown)\+: \begin{DoxyVerb}$ make test TESTS='test_rsa test_dsa' VF=1
$ make test TESTS="test_cmp_*" VFP=1
\end{DoxyVerb}
 You can find the list of available tests like this\+: \begin{DoxyVerb}$ make list-tests                                # Unix
$ mms list-tests                                 ! OpenVMS
$ nmake list-tests                               # Windows
\end{DoxyVerb}
 Have a look at the manual for the perl module Test\+::\+Harness to see what other HARNESS\+\_\+\texorpdfstring{$\ast$}{*} variables there are.

To report a bug please open an issue on Git\+Hub, at \href{https://github.com/openssl/openssl/issues}{\texttt{ https\+://github.\+com/openssl/openssl/issues}}.

For more details on how the {\ttfamily make} variables {\ttfamily TESTS} can be used, see section Running Selected Tests below.\hypertarget{md__c_1_2_users_2namph_2_downloads_2openssl_2openssl-3_82_81_2test_2_r_e_a_d_m_e_autotoc_md988}{}\doxysection{\texorpdfstring{Running Selected Tests}{Running Selected Tests}}\label{md__c_1_2_users_2namph_2_downloads_2openssl_2openssl-3_82_81_2test_2_r_e_a_d_m_e_autotoc_md988}
The {\ttfamily make} variable {\ttfamily TESTS} supports a versatile set of space separated tokens with which you can specify a set of tests to be performed. With a "{}current set of tests"{} in mind, initially being empty, here are the possible tokens\+: \begin{DoxyVerb} alltests      The current set of tests becomes the whole set of available
               tests (as listed when you do 'make list-tests' or similar).

 xxx           Adds the test 'xxx' to the current set of tests.

-xxx           Removes 'xxx' from the current set of tests.  If this is the
               first token in the list, the current set of tests is first
               assigned the whole set of available tests, effectively making
               this token equivalent to TESTS="alltests -xxx".

 nn            Adds the test group 'nn' (which is a number) to the current
               set of tests.

-nn            Removes the test group 'nn' from the current set of tests.
               If this is the first token in the list, the current set of
               tests is first assigned the whole set of available tests,
               effectively making this token equivalent to
               TESTS="alltests -xxx".
\end{DoxyVerb}
 Also, all tokens except for "{}alltests"{} may have wildcards, such as \texorpdfstring{$\ast$}{*}. (on Unix and Windows, BSD style wildcards are supported, while on VMS, it\textquotesingle{}s VMS style wildcards)\hypertarget{md__c_1_2_users_2namph_2_downloads_2openssl_2openssl-3_82_81_2test_2_r_e_a_d_m_e_autotoc_md989}{}\doxysubsection{\texorpdfstring{Examples}{Examples}}\label{md__c_1_2_users_2namph_2_downloads_2openssl_2openssl-3_82_81_2test_2_r_e_a_d_m_e_autotoc_md989}
Run all tests except for the fuzz tests\+: \begin{DoxyVerb}$ make TESTS='-test_fuzz*' test
\end{DoxyVerb}
 or, if you want to be explicit\+: \begin{DoxyVerb}$ make TESTS='alltests -test_fuzz*' test
\end{DoxyVerb}
 Run all tests that have a name starting with "{}test\+\_\+ssl"{} but not those starting with "{}test\+\_\+ssl\+\_\+"{}\+: \begin{DoxyVerb}$ make TESTS='test_ssl* -test_ssl_*' test
\end{DoxyVerb}
 Run only test group 10\+: \begin{DoxyVerb}$ make TESTS='10' test
\end{DoxyVerb}
 Run all tests except the slow group (group 99)\+: \begin{DoxyVerb}$ make TESTS='-99' test
\end{DoxyVerb}
 Run all tests in test groups 80 to 99 except for tests in group 90\+: \begin{DoxyVerb}$ make TESTS='[89]? -90' test
\end{DoxyVerb}
 To run specific fuzz tests you can use for instance\+: \begin{DoxyVerb}$ make test TESTS='test_fuzz_cmp test_fuzz_cms'
\end{DoxyVerb}
 To stochastically verify that the algorithm that produces uniformly distributed random numbers is operating correctly (with a false positive rate of 0.\+01\%)\+: \begin{DoxyVerb}$ ./util/wrap.sh test/bntest -stochastic
\end{DoxyVerb}
 \hypertarget{md__c_1_2_users_2namph_2_downloads_2openssl_2openssl-3_82_81_2test_2_r_e_a_d_m_e_autotoc_md990}{}\doxysection{\texorpdfstring{Running Tests in Parallel}{Running Tests in Parallel}}\label{md__c_1_2_users_2namph_2_downloads_2openssl_2openssl-3_82_81_2test_2_r_e_a_d_m_e_autotoc_md990}
By default the test harness will execute the selected tests sequentially. Depending on the platform characteristics, running more than one test job in parallel may speed up test execution. This can be requested by setting the {\ttfamily HARNESS\+\_\+\+JOBS} environment variable to a positive integer value. This specifies the maximum number of test jobs to run in parallel.

Depending on the Perl version different strategies could be adopted to select which test recipes can be run in parallel. In recent versions of Perl, unless specified otherwise, any task can be run in parallel. Consult the documentation for {\ttfamily TAP\+::\+Harness} to know more.

To run up to four tests in parallel at any given time\+: \begin{DoxyVerb}$ make HARNESS_JOBS=4 test
\end{DoxyVerb}
 \hypertarget{md__c_1_2_users_2namph_2_downloads_2openssl_2openssl-3_82_81_2test_2_r_e_a_d_m_e_autotoc_md991}{}\doxysection{\texorpdfstring{Random numbers in tests}{Random numbers in tests}}\label{md__c_1_2_users_2namph_2_downloads_2openssl_2openssl-3_82_81_2test_2_r_e_a_d_m_e_autotoc_md991}
Some tests use random numbers as part of the test. In some cases a test failure may occur for some random numbers, but not for others. The seed used for the rand number generator can be set via the {\ttfamily OPENSSL\+\_\+\+TEST\+\_\+\+RAND\+\_\+\+SEED} environment variable. It can also be set via the {\ttfamily OPENSSL\+\_\+\+TEST\+\_\+\+RAND\+\_\+\+ORDER} environment variable which additionally randomises the order tests are run in (see below).

When a test fails the test harness will display the seed used during the test (displaying either the {\ttfamily OPENSSL\+\_\+\+TEST\+\_\+\+RAND\+\_\+\+SEED} or {\ttfamily OPENSSL\+\_\+\+TEST\+\_\+\+RAND\+\_\+\+ORDER} environment variable value that must be used to recreate the results), e.\+g. \begin{DoxyVerb}$ make OPENSSL_TEST_RAND_SEED=42 test
\end{DoxyVerb}
 \hypertarget{md__c_1_2_users_2namph_2_downloads_2openssl_2openssl-3_82_81_2test_2_r_e_a_d_m_e_autotoc_md992}{}\doxysection{\texorpdfstring{Randomisation of Test Ordering}{Randomisation of Test Ordering}}\label{md__c_1_2_users_2namph_2_downloads_2openssl_2openssl-3_82_81_2test_2_r_e_a_d_m_e_autotoc_md992}
By default, the test harness will execute tests in the order they were added. By setting the {\ttfamily OPENSSL\+\_\+\+TEST\+\_\+\+RAND\+\_\+\+ORDER} environment variable to zero, the test ordering will be randomised. This additionally seeds the random number generator used within the tests as described in the section above. If a randomly ordered test fails, the seed value used will be reported. Setting the {\ttfamily OPENSSL\+\_\+\+TEST\+\_\+\+RAND\+\_\+\+ORDER} environment variable to this value will rerun the tests in the same order and will also seed the test random number generator. This assures repeatability of randomly ordered test runs. This repeatability is independent of the operating system, processor or platform used.

To randomise the test ordering\+: \begin{DoxyVerb}$ make OPENSSL_TEST_RAND_ORDER=0 test
\end{DoxyVerb}
 To run the tests using the order defined by the random seed {\ttfamily 42}\+: \begin{DoxyVerb}$ make OPENSSL_TEST_RAND_ORDER=42 test
\end{DoxyVerb}
 